const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["copilot_web/workflowChat-BYpaHuwI.js","copilot_web/vendor-markdown-Dek94WS0.js","copilot_web/vendor-react-V04_Axys.js","copilot_web/message-components-BfrV-ipN.js","copilot_web/input.js","copilot_web/assets/input-B6v7buKL.css"].map(path => {
                        const apiBase = window.comfyAPI?.api?.api?.api_base;
                        const prefix = apiBase ? `${apiBase.substring(1)}/` : '';
                        return `${prefix}${path}`;
                    }))))=>i.map(i=>d[i]);
import{_}from"./input.js";import{j as n}from"./vendor-markdown-Dek94WS0.js";import{r as t,R as m}from"./vendor-react-V04_Axys.js";const b=9999999,g={EXPLAIN_NODE:"copilot:explain-node"},y="/copilot_web/assets/logo-BTZhX0BN.png",L=m.lazy(()=>_(()=>import("./workflowChat-BYpaHuwI.js"),__vite__mapDeps([0,1,2,3,4,5])).then(r=>({default:r.default})));function N(){const r=t.useRef(null),[p,a]=t.useState(!1),[i,d]=t.useState(),[s,u]=t.useState(!1),[l,x]=t.useState({x:0,y:0}),[h,c]=t.useState(!1);t.useEffect(()=>{const e=()=>{console.log("Explain node event received"),a(!0),c(!0)};return window.addEventListener(g.EXPLAIN_NODE,e),()=>window.removeEventListener(g.EXPLAIN_NODE,e)},[]),t.useEffect(()=>{d({x:window.innerWidth-160,y:20})},[]);const E=e=>{e.preventDefault(),u(!0);const o=e.currentTarget.getBoundingClientRect();x({x:e.clientX-o.left,y:e.clientY-o.top})};return t.useEffect(()=>{const e=f=>{if(s){const v=Math.min(Math.max(0,f.clientX-l.x),window.innerWidth-100),w=Math.min(Math.max(0,f.clientY-l.y),window.innerHeight-40);d({x:v,y:w})}},o=()=>{u(!1)};return s&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",o)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",o)}},[s,l]),i?n.jsx("div",{ref:r,children:n.jsxs("div",{className:"fixed",style:{zIndex:b,left:i.x,top:i.y,cursor:s?"grabbing":"grab"},children:[n.jsxs("button",{onMouseDown:E,onClick:()=>{a(!0)},className:"px-2 py-1 border border-gray-300 rounded-md bg-white text-black hover:bg-blue-300 hover:font-bold transition-colors select-none w-40 flex items-center space-x-1",style:{marginLeft:"-40px"},children:[n.jsx("img",{src:y,alt:"ComfyUI-Copilot Logo",className:"h-8 w-8"}),n.jsx("span",{className:"text-[14px] font-medium text-gray-800",children:"ComfyUI-Copilot"})]}),n.jsx(m.Suspense,{fallback:n.jsx("div",{children:"Loading..."}),children:n.jsx(L,{onClose:()=>{a(!1),c(!1)},visible:p,triggerUsage:h,onUsageTriggered:()=>c(!1)})})]})}):null}const I=Object.freeze(Object.defineProperty({__proto__:null,default:N},Symbol.toStringTag,{value:"Module"}));export{I as A,y as l};
